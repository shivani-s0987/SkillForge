import{i as S,k as Se,l as Ce,m as De,n as ue,o as Ie,p as _e,q as de,s as F,v as ke,j as t,b as B,w as me,c as Ee,r as k,x as he,y as Re,z as Ae,A as Te,e as Fe,H as Be,f as Xe}from"./index-B4p9qEZL.js";import{u as Le}from"./useFetchCourseDetails-DrDRE5xx.js";function X(l,m){const g=S(l),v=S(m),f=g.getTime()-v.getTime();return f<0?-1:f>0?1:f}function Ye(l){return m=>{const v=(l?Math[l]:Math.trunc)(m);return v===0?0:v}}function Qe(l,m){return+S(l)-+S(m)}function qe(l){const m=S(l);return+Se(m)==+Ce(m)}function $e(l,m){const g=S(l),v=S(m),f=X(g,v),p=Math.abs(De(g,v));let u;if(p<1)u=0;else{g.getMonth()===1&&g.getDate()>27&&g.setDate(30),g.setMonth(g.getMonth()-f*p);let e=X(g,v)===-f;qe(S(l))&&p===1&&X(l,v)===1&&(e=!1),u=f*(p-Number(e))}return u===0?0:u}function Ge(l,m,g){const v=Qe(l,m)/1e3;return Ye(g==null?void 0:g.roundingMethod)(v)}function We(l,m,g){const v=Ie(),f=(g==null?void 0:g.locale)??v.locale??_e,p=2520,u=X(l,m);if(isNaN(u))throw new RangeError("Invalid time value");const e=Object.assign({},g,{addSuffix:g==null?void 0:g.addSuffix,comparison:u});let n,o;u>0?(n=S(m),o=S(l)):(n=S(l),o=S(m));const a=Ge(o,n),d=(ue(o)-ue(n))/1e3,x=Math.round((a-d)/60);let O;if(x<2)return g!=null&&g.includeSeconds?a<5?f.formatDistance("lessThanXSeconds",5,e):a<10?f.formatDistance("lessThanXSeconds",10,e):a<20?f.formatDistance("lessThanXSeconds",20,e):a<40?f.formatDistance("halfAMinute",0,e):a<60?f.formatDistance("lessThanXMinutes",1,e):f.formatDistance("xMinutes",1,e):x===0?f.formatDistance("lessThanXMinutes",1,e):f.formatDistance("xMinutes",x,e);if(x<45)return f.formatDistance("xMinutes",x,e);if(x<90)return f.formatDistance("aboutXHours",1,e);if(x<de){const b=Math.round(x/60);return f.formatDistance("aboutXHours",b,e)}else{if(x<p)return f.formatDistance("xDays",1,e);if(x<F){const b=Math.round(x/de);return f.formatDistance("xDays",b,e)}else if(x<F*2)return O=Math.round(x/F),f.formatDistance("aboutXMonths",O,e)}if(O=$e(o,n),O<12){const b=Math.round(x/F);return f.formatDistance("xMonths",b,e)}else{const b=O%12,E=Math.trunc(O/12);return b<3?f.formatDistance("aboutXYears",E,e):b<9?f.formatDistance("overXYears",E,e):f.formatDistance("almostXYears",E+1,e)}}function He(l,m){return We(l,ke(l),m)}const Ue=({course:l})=>{var m,g;return l?t.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-4",children:[t.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[t.jsx(B,{to:"/",className:"hover:text-gray-700 flex items-center",children:t.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l7-7 7 7M5 10v10h4v-6h6v6h4V10"})})}),t.jsx("span",{className:"mx-2",children:">"}),t.jsx(B,{to:"/courses",className:"hover:text-gray-700",children:"Courses"}),t.jsx("span",{className:"mx-2",children:">"}),t.jsx(B,{to:`/courses/?category=${(m=l.category_data)==null?void 0:m.slug}`,className:"hover:text-gray-700",children:(g=l.category_data)==null?void 0:g.name}),t.jsx("span",{className:"mx-2",children:">"}),t.jsx("span",{className:"text-gray-600",children:l.title})]}),t.jsx("h1",{className:"text-3xl font-bold mb-2",children:l.title}),t.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-4",children:[t.jsx("span",{className:"mr-2",children:"ðŸ‘¤"}),t.jsxs("span",{children:["A course by ",l.tutor.display_name,", ",l.tutor.headline]})]}),t.jsx("div",{className:"flex items-center text-sm text-gray-600 mb-4",children:t.jsxs("span",{children:["Last updated"," ",l.updated_at?me(new Date(l.updated_at)):"N/A"]})})]}):null},fe=({course:l})=>{var u,e,n;if(!l)return null;const m=o=>o?He(new Date(o),{addSuffix:!0}):"N/A",g=async o=>{try{const a=await Ee.post("stripe/course-purchase/",{course_id:l.id,access_type:o});a.data.session_id&&localStorage.setItem("session_id",a.data.session_id),window.location.href=a.data.url}catch(a){console.log(a)}},v=(u=l==null?void 0:l.progress)==null?void 0:u.progress,f=((e=l==null?void 0:l.progress)==null?void 0:e.access_type)==="Rental",p=f?m(l.progress.access_expiry_date):null;return t.jsx("div",{className:"w-full lg:w-80 mb-6 lg:mb-0",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 lg:sticky lg:top-4",children:[t.jsx("img",{src:l.thumbnail,alt:"Course preview",className:"w-full h-48 lg:h-32 object-cover rounded-t-lg mb-4"}),t.jsxs("div",{className:"mb-4",children:[t.jsx("div",{className:"flex justify-between items-center mb-2",children:t.jsxs("div",{children:[t.jsx("span",{className:"text-2xl lg:text-xl font-bold text-gray-800",children:l.price}),t.jsx("span",{className:"text-sm text-gray-500 line-through ml-2",children:(l.price*1.08).toFixed(2)})]})}),l.rental_price>0&&!v&&t.jsxs("div",{className:"bg-blue-100 text-blue-700 text-sm p-2 rounded-md mt-2",children:[t.jsx("span",{className:"font-semibold",children:"Rent this course:"})," $",l.rental_price," for ",l.rental_duration," days"]})]}),v?t.jsxs("div",{className:"mb-4",children:[t.jsx(B,{to:`/course/${l.slug}/${(n=l.modules[0])==null?void 0:n.id}`,children:t.jsx("button",{className:"w-full bg-green-600 text-white py-3 rounded-md hover:bg-green-700 transition duration-300",children:"View Course"})}),f&&t.jsxs("div",{className:"text-red-600 text-sm mt-2",children:["Rental expires in ",p]})]}):t.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2 mb-4",children:[t.jsx("button",{onClick:()=>g("Lifetime"),className:"w-full bg-indigo-600 text-white py-3 rounded-md hover:bg-indigo-700 transition duration-300",children:"Buy Course"}),l.rental_price>0&&t.jsx("button",{onClick:()=>g("Rental"),className:"w-full bg-green-600 text-white py-3 rounded-md hover:bg-green-700 transition duration-300",children:"Rent Course"})]}),t.jsx("h4",{className:"font-semibold mb-2",children:"This Course Includes:"}),t.jsxs("ul",{className:"text-sm space-y-1",children:[t.jsxs("li",{className:"flex items-center",children:[t.jsx("span",{className:"text-purple-600 mr-2",children:"âœ“"}),"Money Back Guarantee"]}),t.jsxs("li",{className:"flex items-center",children:[t.jsx("span",{className:"text-purple-600 mr-2",children:"âœ“"}),"Access on all devices"]}),t.jsxs("li",{className:"flex items-center",children:[t.jsx("span",{className:"text-purple-600 mr-2",children:"âœ“"}),l.modules.length," Modules"]})]}),t.jsxs("div",{className:"flex items-center mt-4",children:[t.jsx("img",{src:l.tutor.user.profile,alt:"Tutor",className:"w-10 h-10 rounded-full mr-2"}),t.jsx("span",{className:"text-sm text-gray-600",children:l.tutor.headline})]})]})})},Ve=({course:l})=>l?t.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-4",children:[t.jsx("h2",{className:"text-xl font-bold mb-4",children:"About this course"}),t.jsx("p",{className:"text-sm text-gray-600",children:l.description})]}):null,ze=({number:l,title:m,description:g,expandAll:v})=>{const[f,p]=k.useState(!1);return k.useEffect(()=>{p(v)},[v]),t.jsxs("div",{className:"border-b border-gray-200",children:[t.jsxs("div",{className:"flex items-center justify-between py-4 cursor-pointer",onClick:()=>p(!f),children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{className:"w-6 h-6 rounded-full bg-indigo-600 text-white flex items-center justify-center text-sm font-medium mr-4",children:l}),t.jsx("h3",{className:"text-lg font-medium text-gray-900",children:m})]}),t.jsx("svg",{className:`w-5 h-5 text-gray-500 transform transition-transform ${f?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),f&&t.jsx("p",{className:"pl-10 pb-4 text-sm text-gray-600",children:g})]})},Je=({course:l})=>{const[m,g]=k.useState(!1),v=()=>{g(!m)};return l?t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Syllabus"}),t.jsx("button",{className:"text-indigo-600 font-semibold text-sm",onClick:v,children:m?"Collapse all sections":"Expand all sections"})]}),t.jsx("p",{className:"text-sm text-gray-500 mb-6",children:l.modules.length>0?`${Object.keys(l.modules).length} lessons`:"No modules available"}),l.modules.map((f,p)=>t.jsx(ze,{number:p+1,title:f.title,description:f.description,expandAll:m},p))]}):null},Ke=({isOpen:l,onClose:m,reviews:g,averageRating:v})=>{if(console.log("sfdsff"),!l)return null;const f=g.reduce((u,e)=>(u[e.rating]=(u[e.rating]||0)+1,u),{}),p=u=>((f[u]||0)/g.length*100).toFixed(0)+"%";return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:t.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"p-6 border-b",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsxs("h2",{className:"text-2xl font-bold",children:["â˜… ",v.toFixed(1)," course rating â€¢ ",g.length," ratings"]}),t.jsx("button",{onClick:m,className:"text-gray-500 hover:text-gray-700",children:"âœ•"})]}),[5,4,3,2,1].map(u=>t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsxs("div",{className:"w-24 text-sm text-gray-600",children:["â˜…".repeat(u),"â˜†".repeat(5-u)]}),t.jsx("div",{className:"flex-grow bg-gray-200 rounded-full h-2 ml-4",children:t.jsx("div",{className:"bg-yellow-400 h-2 rounded-full",style:{width:p(u)}})}),t.jsx("div",{className:"w-12 text-right text-sm text-gray-600 ml-4",children:p(u)})]},u))]}),t.jsx("div",{className:"p-6",children:g.map((u,e)=>t.jsxs("div",{className:"mb-6 pb-6 border-b last:border-b-0",children:[t.jsx("div",{className:"flex justify-between items-start",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"bg-gray-800 text-white rounded-full w-10 h-10 flex items-center justify-center font-bold mr-3",children:u.user.username[0].toUpperCase()}),t.jsxs("div",{children:[t.jsx("div",{className:"font-semibold",children:u.user.username}),t.jsxs("div",{className:"text-yellow-400",children:["â˜…".repeat(u.rating),"â˜†".repeat(5-u.rating),t.jsx("span",{className:"text-gray-500 ml-2 text-sm",children:u.date})]})]})]})}),t.jsx("p",{className:"mt-3 text-gray-700",children:u.feedback})]},e))})]})})},Ze=({reviews:l})=>{const[m,g]=k.useState(null),[v,f]=k.useState(!1);if(!l||l.length===0)return t.jsxs("div",{className:"bg-white border border-gray-200 p-6 mt-4 mb-4 rounded-lg shadow-sm text-center",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-600",children:"No reviews yet"}),t.jsx("p",{className:"text-gray-500 mt-2",children:"Be the first to review this course!"})]});const p=l.reduce((e,n)=>e+n.rating,0)/l.length,u=l||l.slice(0,3);return t.jsxs("div",{className:"my-8 bg-white border border-gray-200 rounded-lg shadow-sm p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Reviews"}),t.jsxs("div",{className:"flex items-center",children:[t.jsx(he,{className:"w-6 h-6 text-yellow-400 mr-2",fill:"currentColor"}),t.jsx("span",{className:"text-2xl font-bold text-gray-800",children:p.toFixed(1)}),t.jsxs("span",{className:"text-gray-600 ml-2",children:["(",l.length," reviews)"]})]})]}),t.jsxs("div",{className:"space-y-6",children:[u.map(e=>{var n,o;return t.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg transition-all duration-300 hover:shadow-md",children:[t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"bg-gray-800 text-white rounded-full h-12 w-12 flex items-center justify-center font-bold text-lg",children:(o=(n=e.user)==null?void 0:n.username[0])==null?void 0:o.toUpperCase()}),t.jsxs("div",{className:"ml-4",children:[t.jsx("p",{className:"font-semibold text-lg",children:e.user.username}),t.jsx("p",{className:"text-gray-500 text-sm",children:e.updated_at?me(new Date(e.updated_at)):"N/A"})]})]}),t.jsx("div",{className:"flex items-center",children:[...Array(5)].map((a,d)=>t.jsx(he,{className:`w-5 h-5 ${d<e.rating?"text-yellow-400":"text-gray-300"}`,fill:"currentColor"},d))})]}),t.jsx("div",{className:"mt-4",children:t.jsx("p",{className:`text-gray-700 ${m===e.id?"":"line-clamp-3"}`,children:e.feedback})})]},e.id)}),l.length>3&&t.jsx("button",{className:"mt-4 text-blue-500 underline",onClick:()=>f(!0),"aria-label":"See all reviews",children:"See All"})]}),t.jsx(Ke,{isOpen:v,onClose:()=>f(!1),reviews:l,averageRating:p})]})},et=({data:l})=>l?t.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm  p-6 mb-6",children:[t.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Tutor"}),t.jsxs("div",{className:"flex items-start",children:[t.jsx("img",{src:l.tutor.user.profile,alt:l.tutor.user.username,className:"w-24 h-24 rounded-full mr-6"}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-semibold text-blue-600 hover:underline cursor-pointer",children:l.tutor.display_name}),t.jsx("p",{className:"text-gray-600 mb-2",children:l.tutor.headline})]})]}),t.jsx("div",{className:"mt-4 text-gray-700",children:t.jsx("p",{className:"mb-2",children:l.tutor.user.bio})})]}):null;var xe={exports:{}};(function(l,m){(function(g,v){l.exports=v(k)})(typeof self<"u"?self:Ae,function(g){return function(v){var f={};function p(u){if(f[u])return f[u].exports;var e=f[u]={i:u,l:!1,exports:{}};return v[u].call(e.exports,e,e.exports,p),e.l=!0,e.exports}return p.m=v,p.c=f,p.d=function(u,e,n){p.o(u,e)||Object.defineProperty(u,e,{enumerable:!0,get:n})},p.r=function(u){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})},p.t=function(u,e){if(1&e&&(u=p(u)),8&e||4&e&&typeof u=="object"&&u&&u.__esModule)return u;var n=Object.create(null);if(p.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:u}),2&e&&typeof u!="string")for(var o in u)p.d(n,o,(function(a){return u[a]}).bind(null,o));return n},p.n=function(u){var e=u&&u.__esModule?function(){return u.default}:function(){return u};return p.d(e,"a",e),e},p.o=function(u,e){return Object.prototype.hasOwnProperty.call(u,e)},p.p="",p(p.s=2)}([function(v,f){v.exports=g},function(v,f,p){var u={linear:function(e,n,o,a){return(o-n)*e/a+n},easeInQuad:function(e,n,o,a){return(o-n)*(e/=a)*e+n},easeOutQuad:function(e,n,o,a){return-(o-n)*(e/=a)*(e-2)+n},easeInOutQuad:function(e,n,o,a){var d=o-n;return(e/=a/2)<1?d/2*e*e+n:-d/2*(--e*(e-2)-1)+n},easeInCubic:function(e,n,o,a){return(o-n)*(e/=a)*e*e+n},easeOutCubic:function(e,n,o,a){return(o-n)*((e=e/a-1)*e*e+1)+n},easeInOutCubic:function(e,n,o,a){var d=o-n;return(e/=a/2)<1?d/2*e*e*e+n:d/2*((e-=2)*e*e+2)+n},easeInQuart:function(e,n,o,a){return(o-n)*(e/=a)*e*e*e+n},easeOutQuart:function(e,n,o,a){return-(o-n)*((e=e/a-1)*e*e*e-1)+n},easeInOutQuart:function(e,n,o,a){var d=o-n;return(e/=a/2)<1?d/2*e*e*e*e+n:-d/2*((e-=2)*e*e*e-2)+n},easeInQuint:function(e,n,o,a){return(o-n)*(e/=a)*e*e*e*e+n},easeOutQuint:function(e,n,o,a){return(o-n)*((e=e/a-1)*e*e*e*e+1)+n},easeInOutQuint:function(e,n,o,a){var d=o-n;return(e/=a/2)<1?d/2*e*e*e*e*e+n:d/2*((e-=2)*e*e*e*e+2)+n},easeInSine:function(e,n,o,a){var d=o-n;return-d*Math.cos(e/a*(Math.PI/2))+d+n},easeOutSine:function(e,n,o,a){return(o-n)*Math.sin(e/a*(Math.PI/2))+n},easeInOutSine:function(e,n,o,a){return-(o-n)/2*(Math.cos(Math.PI*e/a)-1)+n},easeInExpo:function(e,n,o,a){return e==0?n:(o-n)*Math.pow(2,10*(e/a-1))+n},easeOutExpo:function(e,n,o,a){var d=o-n;return e==a?n+d:d*(1-Math.pow(2,-10*e/a))+n},easeInOutExpo:function(e,n,o,a){var d=o-n;return e===0?n:e===a?n+d:(e/=a/2)<1?d/2*Math.pow(2,10*(e-1))+n:d/2*(2-Math.pow(2,-10*--e))+n},easeInCirc:function(e,n,o,a){return-(o-n)*(Math.sqrt(1-(e/=a)*e)-1)+n},easeOutCirc:function(e,n,o,a){return(o-n)*Math.sqrt(1-(e=e/a-1)*e)+n},easeInOutCirc:function(e,n,o,a){var d=o-n;return(e/=a/2)<1?-d/2*(Math.sqrt(1-e*e)-1)+n:d/2*(Math.sqrt(1-(e-=2)*e)+1)+n},easeInElastic:function(e,n,o,a){var d,x,O,b=o-n;return O=1.70158,e===0?n:(e/=a)==1?n+b:((x=0)||(x=.3*a),(d=b)<Math.abs(b)?(d=b,O=x/4):O=x/(2*Math.PI)*Math.asin(b/d),-d*Math.pow(2,10*(e-=1))*Math.sin((e*a-O)*(2*Math.PI)/x)+n)},easeOutElastic:function(e,n,o,a){var d,x,O,b=o-n;return O=1.70158,e===0?n:(e/=a)==1?n+b:((x=0)||(x=.3*a),(d=b)<Math.abs(b)?(d=b,O=x/4):O=x/(2*Math.PI)*Math.asin(b/d),d*Math.pow(2,-10*e)*Math.sin((e*a-O)*(2*Math.PI)/x)+b+n)},easeInOutElastic:function(e,n,o,a){var d,x,O,b=o-n;return O=1.70158,e===0?n:(e/=a/2)==2?n+b:((x=0)||(x=a*.44999999999999996),(d=b)<Math.abs(b)?(d=b,O=x/4):O=x/(2*Math.PI)*Math.asin(b/d),e<1?d*Math.pow(2,10*(e-=1))*Math.sin((e*a-O)*(2*Math.PI)/x)*-.5+n:d*Math.pow(2,-10*(e-=1))*Math.sin((e*a-O)*(2*Math.PI)/x)*.5+b+n)},easeInBack:function(e,n,o,a,d){return d===void 0&&(d=1.70158),(o-n)*(e/=a)*e*((d+1)*e-d)+n},easeOutBack:function(e,n,o,a,d){return d===void 0&&(d=1.70158),(o-n)*((e=e/a-1)*e*((d+1)*e+d)+1)+n},easeInOutBack:function(e,n,o,a,d){var x=o-n;return d===void 0&&(d=1.70158),(e/=a/2)<1?x/2*(e*e*((1+(d*=1.525))*e-d))+n:x/2*((e-=2)*e*((1+(d*=1.525))*e+d)+2)+n},easeInBounce:function(e,n,o,a){var d=o-n;return d-u.easeOutBounce(a-e,0,d,a)+n},easeOutBounce:function(e,n,o,a){var d=o-n;return(e/=a)<.36363636363636365?d*(7.5625*e*e)+n:e<.7272727272727273?d*(7.5625*(e-=.5454545454545454)*e+.75)+n:e<.9090909090909091?d*(7.5625*(e-=.8181818181818182)*e+.9375)+n:d*(7.5625*(e-=.9545454545454546)*e+.984375)+n},easeInOutBounce:function(e,n,o,a){var d=o-n;return e<a/2?.5*u.easeInBounce(2*e,0,d,a)+n:.5*u.easeOutBounce(2*e-a,0,d,a)+.5*d+n}};v.exports=u},function(v,f,p){v.exports=p(3)},function(v,f,p){p.r(f),p.d(f,"ReactConfetti",function(){return ie});var u,e,n=p(0),o=p.n(n),a=p(1),d=p.n(a);function x(s,i){return s+Math.random()*(i-s)}function O(s,i){for(var c=0;c<i.length;c++){var r=i[c];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(s,r.key,r)}}function b(s,i,c){return i in s?Object.defineProperty(s,i,{value:c,enumerable:!0,configurable:!0,writable:!0}):s[i]=c,s}(function(s){s[s.Circle=0]="Circle",s[s.Square=1]="Square",s[s.Strip=2]="Strip"})(u||(u={})),function(s){s[s.Positive=1]="Positive",s[s.Negative=-1]="Negative"}(e||(e={}));var E=function(){function s(r,j,h,y){(function(U,V){if(!(U instanceof V))throw new TypeError("Cannot call a class as a function")})(this,s),b(this,"context",void 0),b(this,"radius",void 0),b(this,"x",void 0),b(this,"y",void 0),b(this,"w",void 0),b(this,"h",void 0),b(this,"vx",void 0),b(this,"vy",void 0),b(this,"shape",void 0),b(this,"angle",void 0),b(this,"angularSpin",void 0),b(this,"color",void 0),b(this,"rotateY",void 0),b(this,"rotationDirection",void 0),b(this,"getOptions",void 0),this.getOptions=j;var w,M,N=this.getOptions(),_=N.colors,C=N.initialVelocityX,D=N.initialVelocityY;this.context=r,this.x=h,this.y=y,this.w=x(5,20),this.h=x(5,20),this.radius=x(5,10),this.vx=typeof C=="number"?x(-C,C):x(C.min,C.max),this.vy=typeof D=="number"?x(-D,0):x(D.min,D.max),this.shape=(w=0,M=2,Math.floor(w+Math.random()*(M-w+1))),this.angle=x(0,360)*Math.PI/180,this.angularSpin=x(-.2,.2),this.color=_[Math.floor(Math.random()*_.length)],this.rotateY=x(0,1),this.rotationDirection=x(0,1)?e.Positive:e.Negative}var i,c;return i=s,(c=[{key:"update",value:function(){var r=this.getOptions(),j=r.gravity,h=r.wind,y=r.friction,w=r.opacity,M=r.drawShape;this.x+=this.vx,this.y+=this.vy,this.vy+=j,this.vx+=h,this.vx*=y,this.vy*=y,this.rotateY>=1&&this.rotationDirection===e.Positive?this.rotationDirection=e.Negative:this.rotateY<=-1&&this.rotationDirection===e.Negative&&(this.rotationDirection=e.Positive);var N=.1*this.rotationDirection;if(this.rotateY+=N,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=w,this.context.lineCap="round",this.context.lineWidth=2,M&&typeof M=="function")M.call(this,this.context);else switch(this.shape){case u.Circle:this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break;case u.Square:this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break;case u.Strip:this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h)}this.context.closePath(),this.context.restore()}}])&&O(i.prototype,c),s}();function P(s,i,c){return i in s?Object.defineProperty(s,i,{value:c,enumerable:!0,configurable:!0,writable:!0}):s[i]=c,s}var pe=function s(i,c){var r=this;(function(h,y){if(!(h instanceof y))throw new TypeError("Cannot call a class as a function")})(this,s),P(this,"canvas",void 0),P(this,"context",void 0),P(this,"getOptions",void 0),P(this,"x",0),P(this,"y",0),P(this,"w",0),P(this,"h",0),P(this,"lastNumberOfPieces",0),P(this,"tweenInitTime",Date.now()),P(this,"particles",[]),P(this,"particlesGenerated",0),P(this,"removeParticleAt",function(h){r.particles.splice(h,1)}),P(this,"getParticle",function(){var h=x(r.x,r.w+r.x),y=x(r.y,r.h+r.y);return new E(r.context,r.getOptions,h,y)}),P(this,"animate",function(){var h=r.canvas,y=r.context,w=r.particlesGenerated,M=r.lastNumberOfPieces,N=r.getOptions(),_=N.run,C=N.recycle,D=N.numberOfPieces,U=N.debug,V=N.tweenFunction,z=N.tweenDuration;if(!_)return!1;var J=r.particles.length,A=C?J:w,K=Date.now();if(A<D){M!==D&&(r.tweenInitTime=K,r.lastNumberOfPieces=D);for(var ae=r.tweenInitTime,Pe=V(K-ae>z?z:Math.max(0,K-ae),A,D,z),oe=Math.round(Pe-A),le=0;le<oe;le++)r.particles.push(r.getParticle());r.particlesGenerated+=oe}return U&&(y.font="12px sans-serif",y.fillStyle="#333",y.textAlign="right",y.fillText("Particles: ".concat(J),h.width-10,h.height-20)),r.particles.forEach(function(T,ce){T.update(),(T.y>h.height||T.y<-100||T.x>h.width+100||T.x<-100)&&(C&&A<=D?r.particles[ce]=r.getParticle():r.removeParticleAt(ce))}),J>0||A<D}),this.canvas=i;var j=this.canvas.getContext("2d");if(!j)throw new Error("Could not get canvas context");this.context=j,this.getOptions=c};function Z(s,i){var c=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);i&&(r=r.filter(function(j){return Object.getOwnPropertyDescriptor(s,j).enumerable})),c.push.apply(c,r)}return c}function L(s){for(var i=1;i<arguments.length;i++){var c=arguments[i]!=null?arguments[i]:{};i%2?Z(Object(c),!0).forEach(function(r){I(s,r,c[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(c)):Z(Object(c)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(c,r))})}return s}function ge(s,i){for(var c=0;c<i.length;c++){var r=i[c];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(s,r.key,r)}}function I(s,i,c){return i in s?Object.defineProperty(s,i,{value:c,enumerable:!0,configurable:!0,writable:!0}):s[i]=c,s}var Y={width:typeof window<"u"?window.innerWidth:300,height:typeof window<"u"?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:d.a.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0},be=function(){function s(r,j){var h=this;(function(w,M){if(!(w instanceof M))throw new TypeError("Cannot call a class as a function")})(this,s),I(this,"canvas",void 0),I(this,"context",void 0),I(this,"_options",void 0),I(this,"generator",void 0),I(this,"rafId",void 0),I(this,"setOptionsWithDefaults",function(w){var M={confettiSource:{x:0,y:0,w:h.canvas.width,h:0}};h._options=L(L(L({},M),Y),w),Object.assign(h,w.confettiSource)}),I(this,"update",function(){var w=h.options,M=w.run,N=w.onConfettiComplete,_=h.canvas,C=h.context;M&&(C.fillStyle="white",C.clearRect(0,0,_.width,_.height)),h.generator.animate()?h.rafId=requestAnimationFrame(h.update):(N&&typeof N=="function"&&h.generator.particlesGenerated>0&&N.call(h,h),h._options.run=!1)}),I(this,"reset",function(){h.generator&&h.generator.particlesGenerated>0&&(h.generator.particlesGenerated=0,h.generator.particles=[],h.generator.lastNumberOfPieces=0)}),I(this,"stop",function(){h.options={run:!1},h.rafId&&(cancelAnimationFrame(h.rafId),h.rafId=void 0)}),this.canvas=r;var y=this.canvas.getContext("2d");if(!y)throw new Error("Could not get canvas context");this.context=y,this.generator=new pe(this.canvas,function(){return h.options}),this.options=j,this.update()}var i,c;return i=s,(c=[{key:"options",get:function(){return this._options},set:function(r){var j=this._options&&this._options.run,h=this._options&&this._options.recycle;this.setOptionsWithDefaults(r),this.generator&&(Object.assign(this.generator,this.options.confettiSource),typeof r.recycle=="boolean"&&r.recycle&&h===!1&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),typeof r.run=="boolean"&&r.run&&j===!1&&this.update()}}])&&ge(i.prototype,c),s}();function ve(s){return function(i){if(Array.isArray(i))return q(i)}(s)||function(i){if(typeof Symbol<"u"&&Symbol.iterator in Object(i))return Array.from(i)}(s)||se(s)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ee(s){return(ee=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(s)}function Q(){return(Q=Object.assign||function(s){for(var i=1;i<arguments.length;i++){var c=arguments[i];for(var r in c)Object.prototype.hasOwnProperty.call(c,r)&&(s[r]=c[r])}return s}).apply(this,arguments)}function te(s,i){var c=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);i&&(r=r.filter(function(j){return Object.getOwnPropertyDescriptor(s,j).enumerable})),c.push.apply(c,r)}return c}function ne(s){for(var i=1;i<arguments.length;i++){var c=arguments[i]!=null?arguments[i]:{};i%2?te(Object(c),!0).forEach(function(r){R(s,r,c[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(c)):te(Object(c)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(c,r))})}return s}function ye(s,i){return function(c){if(Array.isArray(c))return c}(s)||function(c,r){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(c)))){var j=[],h=!0,y=!1,w=void 0;try{for(var M,N=c[Symbol.iterator]();!(h=(M=N.next()).done)&&(j.push(M.value),!r||j.length!==r);h=!0);}catch(_){y=!0,w=_}finally{try{h||N.return==null||N.return()}finally{if(y)throw w}}return j}}(s,i)||se(s,i)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function se(s,i){if(s){if(typeof s=="string")return q(s,i);var c=Object.prototype.toString.call(s).slice(8,-1);return c==="Object"&&s.constructor&&(c=s.constructor.name),c==="Map"||c==="Set"?Array.from(s):c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?q(s,i):void 0}}function q(s,i){(i==null||i>s.length)&&(i=s.length);for(var c=0,r=new Array(i);c<i;c++)r[c]=s[c];return r}function je(s,i){if(!(s instanceof i))throw new TypeError("Cannot call a class as a function")}function we(s,i){for(var c=0;c<i.length;c++){var r=i[c];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(s,r.key,r)}}function re(s,i){return(re=Object.setPrototypeOf||function(c,r){return c.__proto__=r,c})(s,i)}function Ne(s){var i=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var c,r=G(s);if(i){var j=G(this).constructor;c=Reflect.construct(r,arguments,j)}else c=r.apply(this,arguments);return Oe(this,c)}}function Oe(s,i){return!i||ee(i)!=="object"&&typeof i!="function"?$(s):i}function $(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function G(s){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(i){return i.__proto__||Object.getPrototypeOf(i)})(s)}function R(s,i,c){return i in s?Object.defineProperty(s,i,{value:c,enumerable:!0,configurable:!0,writable:!0}):s[i]=c,s}var Me=o.a.createRef(),W=function(s){(function(h,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(y&&y.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),y&&re(h,y)})(j,s);var i,c,r=Ne(j);function j(h){var y;je(this,j);for(var w=arguments.length,M=new Array(w>1?w-1:0),N=1;N<w;N++)M[N-1]=arguments[N];return R($(y=r.call.apply(r,[this,h].concat(M))),"canvas",o.a.createRef()),R($(y),"confetti",void 0),y.canvas=h.canvasRef||Me,y}return i=j,(c=[{key:"componentDidMount",value:function(){if(this.canvas.current){var h=H(this.props)[0];this.confetti=new be(this.canvas.current,h)}}},{key:"componentDidUpdate",value:function(){var h=H(this.props)[0];this.confetti&&(this.confetti.options=h)}},{key:"componentWillUnmount",value:function(){this.confetti&&this.confetti.stop(),this.confetti=void 0}},{key:"render",value:function(){var h=ye(H(this.props),2),y=h[0],w=h[1],M=ne({zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0},w.style);return o.a.createElement("canvas",Q({width:y.width,height:y.height,ref:this.canvas},w,{style:M}))}}])&&we(i.prototype,c),j}(n.Component);function H(s){var i={},c={},r=[].concat(ve(Object.keys(Y)),["confettiSource","drawShape","onConfettiComplete"]),j=["canvasRef"];for(var h in s){var y=s[h];r.includes(h)?i[h]=y:j.includes(h)?j[h]=y:c[h]=y}return[i,c,{}]}R(W,"defaultProps",ne({},Y)),R(W,"displayName","ReactConfetti");var ie=o.a.forwardRef(function(s,i){return o.a.createElement(W,Q({canvasRef:i},s))});f.default=ie}]).default})})(xe);var tt=xe.exports;const nt=Re(tt),it=()=>{const{slug:l}=Te(),{courseDetails:m,error:g,loading:v}=Le(l),f=Fe(),[p,u]=k.useState(!1);if(k.useEffect(()=>{var o;(o=f.state)!=null&&o.showConfetti&&(u(!0),setTimeout(()=>{u(!1)},6e3))},[f.state]),v)return t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:t.jsx("p",{className:"text-xl font-semibold",children:"Loading course details..."})});if(g)return t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:t.jsxs("p",{className:"text-xl font-semibold text-red-600",children:["Error: ",g]})});const e=m==null?void 0:m.modules.reduce((o,a)=>o+a.duration,0),n=Xe(e);return t.jsxs(t.Fragment,{children:[p&&t.jsx(nt,{width:window.innerWidth,height:window.innerHeight}),t.jsxs("div",{className:"bg-gray-100 min-h-screen",children:[t.jsx(Be,{}),t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:t.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[t.jsxs("div",{className:"w-full lg:w-2/3",children:[t.jsx(Ue,{course:m}),t.jsx("div",{className:"lg:hidden mb-6",children:t.jsx(fe,{course:m})}),t.jsx("div",{className:"bg-white rounded-lg shadow-md p-4 mb-6",children:t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold",children:"Skill level"}),t.jsx("p",{className:"text-sm",children:m==null?void 0:m.skill_level})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold",children:"Time to complete"}),t.jsx("p",{className:"text-sm",children:n})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold",children:"Modules"}),t.jsx("p",{className:"text-sm",children:m==null?void 0:m.modules.length})]})]})}),t.jsx(Ve,{course:m}),t.jsx(Je,{course:m}),t.jsx(Ze,{reviews:m==null?void 0:m.reviews}),t.jsx(et,{data:m})]}),t.jsx("div",{className:"hidden lg:block w-1/3",children:t.jsx("div",{className:"sticky top-4",children:t.jsx(fe,{course:m})})})]})})]})]})};export{it as default};
