import{r as c,a5 as h,j as e,b as m,a6 as g,a7 as d,c as x,d as u}from"./index-B4p9qEZL.js";import{A as p}from"./AdminCourseCard-B4UIDc2e.js";const f=()=>{const[r,l]=c.useState(),[i,n]=c.useState(null),[t,s]=c.useState(!1),a=async()=>{s(!0);try{const o=await h();l(o)}catch(o){console.log(o),n(o)}};return c.useEffect(()=>{a()},[]),{courses:r,getRequestedCourses:a}},N=()=>{const{courses:r,getRequestedCourses:l}=f(),i=async(t,s)=>{console.log(t,s);try{const a=await x.patch(`courses/${t}/`,{status:s});u(200,"Course Approved!"),l()}catch(a){u(200,"Failed to Approve Course, Please try later!"),console.log(a)}},n=async(t,s)=>{console.log(t,s);try{const a=await x.patch(`requested-courses/${t}/`,{is_active:!s});l()}catch(a){console.log(a)}};return e.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-gray-100 p-6 mt-10",children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"mb-4 flex flex-col sm:flex-row justify-between items-center",children:e.jsx("h1",{className:"text-3xl font-bold text-gray-700 mb-2 sm:mb-0",children:"Requested Courses"})}),e.jsx("nav",{className:"flex mb-8","aria-label":"Breadcrumb",children:e.jsxs("ol",{className:"inline-flex items-center space-x-1 md:space-x-3",children:[e.jsx("li",{className:"inline-flex items-center",children:e.jsxs(m,{to:"/admin",className:"inline-flex items-center text-sm font-medium text-gray-700 hover:text-indigo-600",children:[e.jsx(g,{className:"mr-2 h-4 w-4"}),"Dashboard"]})}),e.jsx("li",{children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(d,{className:"h-5 w-5 text-gray-400"}),e.jsx(m,{to:"/admin/courses",className:"ml-1 text-sm font-medium text-gray-700 hover:text-indigo-600 md:ml-2",children:"Courses"})]})}),e.jsx("li",{"aria-current":"page",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(d,{className:"h-5 w-5 text-gray-400"}),e.jsx("span",{className:"ml-1 text-sm font-medium text-gray-500 md:ml-2",children:"Requested Courses"})]})})]})}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:(r==null?void 0:r.length)>0?e.jsx(e.Fragment,{children:r.map((t,s)=>e.jsx(p,{course:t,onBlockToggle:n,onStatusToggle:i},s))}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-16 col-span-1 sm:col-span-2 lg:col-span-3",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-600",children:"No Requested Courses Available"}),e.jsx("p",{className:"text-gray-500 mt-2",children:"It seems like there are no new course requests at the moment."})]})})]})})};export{N as default};
