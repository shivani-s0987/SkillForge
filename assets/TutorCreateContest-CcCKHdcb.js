import{r as p,a as b,U as h,j as e,aF as u,aT as j,aH as f,aI as l,aJ as i,L as y,c as g,d as o}from"./index-B4p9qEZL.js";const v=()=>{const[m,N]=p.useState({name:"",description:"",start_time:"",end_time:"",time_limit:"",difficulty_level:"",category:"",max_points:""}),c=b(),{categories:n}=h(),x=async(s,r)=>{console.log(m);const a=new FormData;a.append("name",s.contest_title),a.append("description",s.description),a.append("start_time",s.start_time),a.append("end_time",s.end_time),a.append("time_limit",s.time_limit),a.append("difficulty_level",s.difficulty_level),a.append("max_points",s.max_points),a.append("category_id",s.category);try{const t=await g.post("contest/",a,{headers:{"Content-Type":"multipart/form-data"}});console.log(t),t.status===201&&(o(200,"Your contest has been created successfully"),r.resetForm(),c(`/tutor/contest/questions/create/${t.data.id}`))}catch(t){console.log(t),t.response&&t.response.data?Object.keys(t.response.data).forEach(d=>{o(400,`${d} : ${t.response.data[d]}`)}):o(400,"Something went wrong")}finally{r.setSubmitting(!1)}};return e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("h1",{className:"text-2xl font-semibold mb-6",children:"Create New Contest"}),e.jsx(u,{initialValues:{contest_title:"",description:"",start_time:"",end_time:"",time_limit:"",category:"",difficulty_level:"",max_points:""},validationSchema:j,onSubmit:x,children:({setFieldValue:s,isSubmitting:r,values:a})=>e.jsxs(f,{className:"bg-white p-6 rounded-lg border",children:[e.jsxs("div",{className:"mb-4 flex gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{htmlFor:"contest_title",className:"block text-gray-700 mb-2",children:"Title"}),e.jsx(l,{name:"contest_title",className:"w-full p-2 border border-gray-300 rounded",placeholder:"Contest Title"}),e.jsx(i,{name:"contest_title",component:"div",className:"text-red-500 text-sm"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{htmlFor:"category",className:"block text-gray-700 mb-2",children:"Category"}),e.jsxs(l,{as:"select",name:"category",className:"w-full p-2 border border-gray-300 rounded",children:[e.jsx("option",{value:"",children:"Select a category"}),n&&n.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]}),e.jsx(i,{name:"category",component:"div",className:"text-red-500 text-sm"})]})]}),e.jsxs("div",{className:"mb-4 flex gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{htmlFor:"description",className:"block text-gray-700 mb-2",children:"Description"}),e.jsx(l,{as:"textarea",name:"description",className:"w-full p-2 border border-gray-300 rounded",placeholder:"Contest Description"}),e.jsx(i,{name:"description",component:"div",className:"text-red-500 text-sm"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{htmlFor:"difficulty_level",className:"block text-gray-700 mb-2",children:"Difficulty Level"}),e.jsxs(l,{as:"select",name:"difficulty_level",className:"w-full p-2 border border-gray-300 rounded",children:[e.jsx("option",{hidden:!0,label:"Select difficulty"}),e.jsx("option",{value:"easy",label:"Easy"}),e.jsx("option",{value:"medium",label:"Medium"}),e.jsx("option",{value:"hard",label:"Hard"})]}),e.jsx(i,{name:"difficulty_level",component:"div",className:"text-red-500 text-sm"})]})]}),e.jsxs("div",{className:"mb-4 flex gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{htmlFor:"start_time",className:"block text-gray-700 mb-2",children:"Start Time"}),e.jsx(l,{name:"start_time",type:"datetime-local",className:"w-full p-2 border border-gray-300 rounded",placeholder:"Start Time"}),e.jsx(i,{name:"start_time",component:"div",className:"text-red-500 text-sm"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{htmlFor:"end_time",className:"block text-gray-700 mb-2",children:"End Time"}),e.jsx(l,{name:"end_time",type:"datetime-local",className:"w-full p-2 border border-gray-300 rounded",placeholder:"End Time"}),e.jsx(i,{name:"end_time",component:"div",className:"text-red-500 text-sm"})]})]}),e.jsxs("div",{className:"mb-4 flex gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{htmlFor:"time_limit",className:"block text-gray-700 mb-2",children:"Time Limit (HH:MM:SS)"}),e.jsx(l,{name:"time_limit",type:"text",className:"w-full p-2 border border-gray-300 rounded",placeholder:"Time limit"}),e.jsx(i,{name:"time_limit",component:"div",className:"text-red-500 text-sm"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{htmlFor:"max_points",className:"block text-gray-700 mb-2",children:"Max Points"}),e.jsx(l,{name:"max_points",type:"number",className:"w-full p-2 border border-gray-300 rounded",placeholder:"Max Points"}),e.jsx(i,{name:"max_points",component:"div",className:"text-red-500 text-sm"})]})]}),e.jsx("button",{type:"submit",className:"w-full bg-indigo-700 text-white p-3 rounded-lg hover:bg-indigo-800 transition duration-300",disabled:r,children:r?e.jsx(y,{}):"Create Contest"})]})})]})};export{v as default};
