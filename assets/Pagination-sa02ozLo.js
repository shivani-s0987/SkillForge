import{r as x,c as g,aD as j,j as s}from"./index-FF5MpAmF.js";import{P as C,a as b,b as d,c as p,d as S,e as f,f as y}from"./pagination-0TuZywvV.js";const v=()=>{const[e,a]=x.useState([]),[c,n]=x.useState(!1),[o,P]=x.useState(null),[h,i]=x.useState(1),[r,t]=x.useState(1);return{courses:e,error:o,getCourses:async(m,l)=>{n(!0);try{const u=await j(m,l);a(u.results),t(Math.ceil(u.count/9))}catch(u){console.log(u),P(u)}finally{n(!1)}},loading:c,page:h,setPage:i,totalPages:r,getSearchedCourses:async m=>{n(!0);try{const l=await g.get(`/courses/?search=${m}`);console.log("res of search ===",l.data),a(l.data.results),t(1)}catch(l){console.log(l)}finally{n(!1)}}}},w=({page:e,totalPages:a,onPageChange:c})=>{const n=()=>{let o=[];const h=Math.floor(4.5);let i=Math.max(1,e-h),r=Math.min(a,i+9-1);r-i+1<9&&(i=Math.max(1,r-9+1)),i>1&&o.push(s.jsx(d,{children:s.jsx(f,{})},"start-ellipsis"));for(let t=i;t<=r;t++)o.push(s.jsx(d,{children:s.jsx(y,{onClick:()=>c(t),isActive:e===t,children:t})},t));return r<a&&o.push(s.jsx(d,{children:s.jsx(f,{})},"end-ellipsis")),o};return s.jsx(C,{children:s.jsxs(b,{children:[e!==1&&s.jsx(d,{children:s.jsx(p,{onClick:()=>c(e-1),disabled:e===1})}),n(),e!==a&&s.jsx(d,{children:s.jsx(S,{onClick:()=>c(e+1),disabled:e===a})})]})})};export{w as P,v as u};
