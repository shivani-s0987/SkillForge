import{j as e,b as n,a as u,r as f,a6 as j,a7 as b,C as p,c as N,d as i}from"./index-B4p9qEZL.js";import{u as v,P as y}from"./Pagination-DMdrTLZX.js";import"./pagination-BGdhm2cG.js";const w=({course:s,onBlockToggle:a})=>e.jsxs("div",{className:"bg-white border border-gray-200 shadow-md rounded-lg overflow-hidden flex flex-col h-full",children:[e.jsx("img",{src:s.thumbnail,alt:s.title,className:"w-full h-48 object-cover"}),e.jsxs("div",{className:"p-5 flex flex-col flex-grow",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 line-clamp-2",children:s.title}),e.jsx("span",{className:`px-3 py-1 text-xs font-semibold rounded-full ${s.status==="Published"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:s.status})]}),e.jsx("p",{className:"text-gray-600 mb-4 flex-grow line-clamp-3",children:s.description}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mt-auto",children:[e.jsxs("span",{className:"text-gray-500 text-sm mb-2 sm:mb-0 flex items-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),s.total_enrollment," enrollments"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(n,{to:`/tutor/course/${s.slug}`,children:e.jsx("button",{className:"bg-indigo-500 hover:bg-indigo-600 text-white px-4 py-2 rounded-lg text-sm transition duration-300 ease-in-out",children:"View"})}),e.jsx("button",{onClick:()=>a(s.slug,s.is_active),className:`${s.is_active?"bg-red-500 hover:bg-red-600":"bg-green-500 hover:bg-green-600"} text-white px-4 py-2 rounded-lg text-sm transition duration-300 ease-in-out`,children:s.is_active?"Block":"Unblock"})]})]})]})]}),B=()=>{const{courses:s,getCourses:a,page:r,setPage:c,totalPages:o,loading:x}=v(),d=u();f.useEffect(()=>{a(r)},[r]);const m=t=>{t>=1&&t<=o&&(c(t),a(t),d(`/tutor/courses/?page=${t}`))},h=async(t,l)=>{try{await N.patch(`courses/${t}/`,{is_active:!l}),a(),l?i(200,"Course Blocked successfully"):i(200,"Course Unblocked successfully")}catch(g){console.error(g),i(400,"Failed to Fetch Course. We are facing some issue")}};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-700 mb-2 sm:mb-0",children:"My Courses"}),e.jsx(n,{to:"/tutor/new-course",children:e.jsx("button",{className:"bg-black text-white px-6 py-2 rounded-lg hover:bg-gray-800 transition duration-300",children:"Add New Course"})})]}),e.jsx("nav",{className:"flex mb-8","aria-label":"Breadcrumb",children:e.jsxs("ol",{className:"inline-flex items-center space-x-1 md:space-x-3",children:[e.jsx("li",{className:"inline-flex items-center",children:e.jsxs(n,{to:"/tutor",className:"inline-flex items-center text-sm font-medium text-gray-700 hover:text-indigo-600",children:[e.jsx(j,{className:"mr-2 h-4 w-4"}),"Dashboard"]})}),e.jsx("li",{"aria-current":"page",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(b,{className:"h-5 w-5 text-gray-400"}),e.jsx("span",{className:"ml-1 text-sm font-medium text-gray-500 md:ml-2",children:"Courses"})]})})]})}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:x?[...Array(6)].map((t,l)=>e.jsx(p,{},l)):e.jsx(e.Fragment,{children:s.map((t,l)=>e.jsx(w,{course:t,onBlockToggle:h},l))})}),s.length>0&&e.jsx("div",{className:"mt-8 flex justify-center",children:e.jsx(y,{totalPages:o,onPageChange:m,page:r})})]})})};export{B as default};
