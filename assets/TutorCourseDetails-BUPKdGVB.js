import{r as g,A as b,j as e,b as r,a6 as p,a7 as i,f as N,c as f,d as o}from"./index-B4p9qEZL.js";import{u}from"./useFetchCourseDetails-DrDRE5xx.js";const w=()=>{var d,c;const[a,x]=g.useState(null),{slug:n}=b();console.log("slug === ",n);const{courseDetails:s,refetch:m}=u(n);console.log(`course details of ${n}`,s);const h=async t=>{console.log(t);try{const l=await f.delete(`modules/${t}/`);console.log(l),l.status===204&&o(200,"Modules have been deleted successfully"),m()}catch(l){console.log(l),o(400,"Facing some issue, please try again later...")}};return e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("nav",{className:"flex mb-8","aria-label":"Breadcrumb",children:e.jsxs("ol",{className:"inline-flex items-center space-x-1 md:space-x-3",children:[e.jsx("li",{className:"inline-flex items-center",children:e.jsxs(r,{to:"/tutor",className:"inline-flex items-center text-sm font-medium text-gray-700 hover:text-indigo-600",children:[e.jsx(p,{className:"mr-2 h-4 w-4"}),"Dashboard"]})}),e.jsx("li",{children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(i,{className:"h-5 w-5 text-gray-400"}),e.jsx(r,{to:"/tutor/course",className:"ml-1 text-sm font-medium text-gray-700 hover:text-indigo-600 md:ml-2",children:"Courses"})]})}),e.jsx("li",{"aria-current":"page",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(i,{className:"h-5 w-5 text-gray-400"}),e.jsx("span",{className:"ml-1 text-sm font-medium text-gray-500 md:ml-2",children:s==null?void 0:s.title})]})})]})}),e.jsx("div",{className:"mb-6 border rounded-lg",children:e.jsx("img",{src:s==null?void 0:s.thumbnail,alt:"Course Thumbnail",className:"w-full h-64 object-cover rounded-lg mb-4"})}),e.jsxs("div",{className:"bg-white border rounded-lg p-6 mb-6",children:[e.jsxs("div",{className:"flex justify-between items-center ",children:[e.jsx("h1",{className:"text-2xl font-bold",children:s==null?void 0:s.title}),e.jsx(r,{to:`/tutor/course/edit/${n}`,children:e.jsx("button",{className:"text-indigo-700 hover:text-indigo-800",children:"Edit"})})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h2",{className:"font-semibold mb-2",children:"Description"}),e.jsx("p",{className:"text-gray-700",children:s==null?void 0:s.description})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-600",children:"Price"}),e.jsxs("p",{children:["$",s==null?void 0:s.price]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-600",children:"Rental Price"}),e.jsxs("p",{children:["$",s==null?void 0:s.rental_price]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-600",children:"Rental Duration"}),e.jsxs("p",{children:[s==null?void 0:s.rental_duration," days"]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-600",children:"Category"}),e.jsx("p",{children:(d=s==null?void 0:s.category_data)==null?void 0:d.name})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-600 mb-1",children:"Status"}),e.jsx("span",{className:`px-3 py-1 text-xs font-semibold rounded-full ${(s==null?void 0:s.status)==="Published"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:s==null?void 0:s.status})]})]}),e.jsxs("div",{className:"bg-white border rounded-lg p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Modules"}),e.jsx(r,{to:`/tutor/new-module/${s==null?void 0:s.id}`,children:e.jsx("button",{className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded",children:"Add Module"})})]}),(c=s==null?void 0:s.modules)==null?void 0:c.map((t,l)=>e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex justify-between items-center border border-gray-200 rounded-lg p-4 cursor-pointer",onClick:()=>x(l===a?null:l),children:[e.jsx("div",{className:"flex items-center",children:e.jsx("span",{className:"font-medium text-indigo-600",children:t.title})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(r,{to:`/tutor/module/edit/${t.id}`,children:e.jsx("button",{className:"text-gray-600 hover:text-gray-800",children:"Edit"})}),e.jsx("button",{className:"text-gray-600 hover:text-gray-800",onClick:j=>{j.stopPropagation(),h(t.id)},children:"Delete"}),e.jsx("button",{className:`text-gray-600 hover:text-gray-800 ${l===a?"rotate-180":""}`,children:e.jsx(i,{className:"w-5 h-5"})})]})]}),l===a&&e.jsxs("div",{className:"p-4 border border-t-0 rounded-lg rounded-t-none",children:[e.jsx("p",{className:"mb-2",children:t.description}),e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-gray-600 mr-2",children:"Likes:"}),e.jsx("span",{children:t.likes_count})]}),e.jsxs("div",{children:[e.jsx("a",{href:t.notes,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:text-indigo-800 mr-2",children:"Notes"}),e.jsx("a",{href:t.video,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:text-indigo-800",children:"Video"})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-gray-600 mr-2",children:"Duration:"}),e.jsx("span",{children:N(t.duration)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-gray-600 mr-2",children:"Views:"}),e.jsx("span",{children:t.views_count})]})]})]})]},l))]})]})};export{w as default};
