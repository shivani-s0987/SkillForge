import{j as e,b as C,f as y,U as w,r as d,a as k,H as S,B as E,g as $,h as B,C as L}from"./index-B4p9qEZL.js";import{u as _,P as F}from"./Pagination-DMdrTLZX.js";import"./pagination-BGdhm2cG.js";const H=({categories:s,onSelectCategory:l,selectedCategory:a})=>e.jsxs("div",{className:"bg-white rounded-lg border shadow-sm p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Categories"}),e.jsx("nav",{children:e.jsx("ul",{className:"space-y-2",children:s.map((r,n)=>e.jsx("li",{children:e.jsx("button",{onClick:()=>l(r.slug),className:`block w-full text-left py-2 px-3 rounded-md transition-colors ${a&&r.slug===a?"bg-indigo-100 text-indigo-700 font-semibold":"text-gray-700 hover:bg-gray-100"}`,children:r.name})},n))})})]}),O=({course:s})=>{var r;if(!s)return null;const l=s.modules.reduce((n,i)=>n+i.duration,0)||0,a=y(l);return e.jsx(C,{to:`/course/${s.slug}`,className:"block h-full",children:e.jsxs("div",{className:"bg-white  border rounded-lg shadow-lg overflow-hidden h-full flex flex-col transition-transform duration-300 hover:scale-105",children:[e.jsx("img",{src:s.thumbnail,alt:s.title,className:"w-full h-48 object-cover"}),e.jsxs("div",{className:"p-6 flex flex-col flex-grow",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm text-gray-500",children:(r=s.category_data)==null?void 0:r.name}),e.jsxs("span",{className:"text-sm text-gray-500 flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),a]})]}),e.jsx("h2",{className:"text-xl font-semibold mb-2 text-gray-800 line-clamp-2",children:s.title}),e.jsx("p",{className:"text-gray-600 mb-4 text-sm line-clamp-3 flex-grow",children:s.description}),e.jsxs("div",{className:"flex items-center justify-between mt-auto",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("img",{src:s.tutor.user.profile,alt:s.tutor.user.username,className:"w-8 h-8 rounded-full mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:s.tutor.display_name})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"text-gray-400 line-through text-sm",children:(s.price*1.08).toFixed(2)}),e.jsx("span",{className:"text-purple-600 font-bold text-lg ml-2",children:s.price}),s.rental_price>0&&e.jsx("div",{className:"text-sm text-blue-500 mt-1",children:"Rental option available"})]})]})]})]})})},P=({courses:s})=>!s||s.length===0?e.jsx("p",{className:"text-center text-gray-500 mt-8",children:"No courses available!"}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map((l,a)=>e.jsx(O,{course:l},a))}),R=()=>{const{categories:s}=w(),{courses:l,getCourses:a,loading:r,page:n,setPage:i,totalPages:m,getSearchedCourses:u}=_(),[o,p]=d.useState(null),[c,g]=d.useState(""),[x,j]=d.useState(!1),h=k();d.useEffect(()=>{c?u(c):a(n,o)},[n,o,c]);const f=t=>{p(t),i(1),g(""),h(`/courses/?category=${t}&page=1`),a(1,t)},b=t=>{t>=1&&t<=m&&(i(t),h(`/courses/?category=${o||""}&page=${t}`))},N=t=>{g(t),i(1)};return e.jsxs("div",{className:"min-h-screen bg-gray-100",children:[e.jsx(S,{}),e.jsx(E,{title:"Discover Your Next Learning Adventure",description:"Explore our wide range of courses and start your journey to mastery.",buttonText:"Explore Courses",icon:$,gradient:"bg-gradient-to-r from-indigo-600 to-purple-600",onClick:()=>console.log("Explore Courses clicked")}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"lg:flex lg:space-x-8",children:[e.jsxs("aside",{className:"lg:w-64 flex-shrink-0 mb-8 lg:mb-0",children:[e.jsx("button",{className:"lg:hidden w-full bg-white text-indigo-600 font-semibold py-2 px-4 rounded-md mb-4",onClick:()=>j(!x),children:x?"Hide Categories":"Show Categories"}),e.jsx("div",{className:`lg:block ${x?"block":"hidden"}`,children:s.length>0?e.jsx(H,{categories:s,selectedCategory:o,onSelectCategory:f}):e.jsx("p",{children:"No categories available"})})]}),e.jsxs("main",{className:"flex-1",children:[e.jsx(B,{searchQuery:c,onSearchChange:N,from:"courses"}),r?[...Array(5)].map((t,v)=>e.jsx(L,{},v)):e.jsxs(e.Fragment,{children:[e.jsx(P,{courses:l}),e.jsx("div",{className:"mt-8",children:l.length>0&&e.jsx(F,{page:n,totalPages:m,onPageChange:b})})]})]})]})})]})};export{R as default};
